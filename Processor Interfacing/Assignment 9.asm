; ASSIGNMENT 9
;
; PROBLEM STATEMENT
; Write ALP to interface 8051 with DAC to generate square, triangular and trapezoidal waveforms.
;
; AUTHOR - Kartik Pingale

; SQUARE

ORG 0000H

MOV A,#00H
MOV P2,A
UP:
ACALL DELAY
MOV A,#0FFH
MOV P2,A
SJMP UP

DELAY:
MOV TMOD,#01H
MOV TL0,#01AH
MOV TH0,#0FFH
SETB TR0

HERE: JNB TF0,HERE
CLR TR0
CLR TF0
RET

END

; TRIANGULAR

ORG 0000H

MOV A,#00H
UP:
INC A
MOV P2,A
CJNE A,#0FFH,UP

DOWN:
DEC A
MOV P2,A
CJNE A,#00H,DOWN
SJMP UP

END

; TRAPEZOIDAL

ORG 0000H

MOV A,#00H
MOV P2,A
UP1: ACALL DELAY
UP:
INC A
MOV P2,A
CJNE A,#00FH,UP
ACALL DELAY

DOWN:
DEC A
MOV P2,A
CJNE A,#00FH,DOWN
SJMP UP1
RET

DELAY:
MOV TMOD,#01H
MOV TL0,#1AH
MOV TH0,#0ECH
SETB TR0
HERE:JNB TF0,HERE
CLR TR0
CLR TL0
RET

END
